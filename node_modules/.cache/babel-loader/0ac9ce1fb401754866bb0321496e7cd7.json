{"ast":null,"code":"import jsonData from \"../data/data.json\"; //Step 2: Search Utility\n\nconst search = (searhInput, querySummary) => {\n  const input = searhInput.toLowerCase();\n  const maxBookSearchLimit = 3;\n  var bookId = \"\"; // String of bookIds separated ,\n\n  var noOfBooks = []; // Array of bookIds related to more than one query\n\n  var masterBookArray = []; // Array of Book details\n\n  var bookCounter = 0; //Iterating through the Query List till maxBookSearchLimit\n\n  for (var x = 0; x < jsonData.queries.length && (bookCounter === 0 || masterBookArray.length < maxBookSearchLimit); x++) {\n    if (jsonData.queries[x].includes(input)) {\n      bookId = querySummary[x];\n\n      if (bookId.length > 1) {\n        noOfBooks = bookId.split(\",\");\n      } else {\n        noOfBooks.push(bookId);\n      } //Iterate the no.of books and retrieve corresponding book details\n\n\n      while ((bookCounter === 0 || masterBookArray.length < maxBookSearchLimit) && bookCounter < noOfBooks.length) {\n        var bookTitle = jsonData.titles[noOfBooks[bookCounter]];\n        var bookSummary = jsonData.summaries[noOfBooks[bookCounter]].summary;\n        var bookAuthor = jsonData.authors[noOfBooks[bookCounter]].author; //Single Book details\n\n        var bookArray = [bookTitle, bookSummary, bookAuthor];\n        var skipBookflag = false; // To skip the duplicate book\n        //Iterate through list of master book array for unique title\n\n        for (var uniqueTitleCounter = 0; bookCounter !== 0 && uniqueTitleCounter < masterBookArray.length; uniqueTitleCounter++) {\n          //Check if current book title is present in the master book array\n          if (bookArray[0] === masterBookArray[uniqueTitleCounter][0]) {\n            skipBookflag = true;\n          }\n        }\n\n        if (!skipBookflag) {\n          masterBookArray.push(bookArray);\n        }\n\n        bookCounter++;\n      }\n    }\n  }\n\n  return masterBookArray;\n};\n\nexport default search;","map":{"version":3,"sources":["/Users/chethee/Documents/Mala/workspace/search-engine/src/Search/Search.js"],"names":["jsonData","search","searhInput","querySummary","input","toLowerCase","maxBookSearchLimit","bookId","noOfBooks","masterBookArray","bookCounter","x","queries","length","includes","split","push","bookTitle","titles","bookSummary","summaries","summary","bookAuthor","authors","author","bookArray","skipBookflag","uniqueTitleCounter"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,mBAArB,C,CAEA;;AACA,MAAMC,MAAM,GAAG,CAACC,UAAD,EAAaC,YAAb,KAA8B;AAC3C,QAAMC,KAAK,GAAGF,UAAU,CAACG,WAAX,EAAd;AACA,QAAMC,kBAAkB,GAAG,CAA3B;AAEA,MAAIC,MAAM,GAAG,EAAb,CAJ2C,CAI1B;;AACjB,MAAIC,SAAS,GAAG,EAAhB,CAL2C,CAKvB;;AACpB,MAAIC,eAAe,GAAG,EAAtB,CAN2C,CAMjB;;AAC1B,MAAIC,WAAW,GAAG,CAAlB,CAP2C,CAS3C;;AACA,OACE,IAAIC,CAAC,GAAG,CADV,EAEEA,CAAC,GAAGX,QAAQ,CAACY,OAAT,CAAiBC,MAArB,KACCH,WAAW,KAAK,CAAhB,IAAqBD,eAAe,CAACI,MAAhB,GAAyBP,kBAD/C,CAFF,EAIEK,CAAC,EAJH,EAKE;AACA,QAAIX,QAAQ,CAACY,OAAT,CAAiBD,CAAjB,EAAoBG,QAApB,CAA6BV,KAA7B,CAAJ,EAAyC;AACvCG,MAAAA,MAAM,GAAGJ,YAAY,CAACQ,CAAD,CAArB;;AACA,UAAIJ,MAAM,CAACM,MAAP,GAAgB,CAApB,EAAuB;AACrBL,QAAAA,SAAS,GAAGD,MAAM,CAACQ,KAAP,CAAa,GAAb,CAAZ;AACD,OAFD,MAEO;AACLP,QAAAA,SAAS,CAACQ,IAAV,CAAeT,MAAf;AACD,OANsC,CAQvC;;;AACA,aACE,CAACG,WAAW,KAAK,CAAhB,IAAqBD,eAAe,CAACI,MAAhB,GAAyBP,kBAA/C,KACAI,WAAW,GAAGF,SAAS,CAACK,MAF1B,EAGE;AACA,YAAII,SAAS,GAAGjB,QAAQ,CAACkB,MAAT,CAAgBV,SAAS,CAACE,WAAD,CAAzB,CAAhB;AACA,YAAIS,WAAW,GAAGnB,QAAQ,CAACoB,SAAT,CAAmBZ,SAAS,CAACE,WAAD,CAA5B,EAA2CW,OAA7D;AACA,YAAIC,UAAU,GAAGtB,QAAQ,CAACuB,OAAT,CAAiBf,SAAS,CAACE,WAAD,CAA1B,EAAyCc,MAA1D,CAHA,CAKA;;AACA,YAAIC,SAAS,GAAG,CAACR,SAAD,EAAYE,WAAZ,EAAyBG,UAAzB,CAAhB;AACA,YAAII,YAAY,GAAG,KAAnB,CAPA,CAO0B;AAE1B;;AACA,aACE,IAAIC,kBAAkB,GAAG,CAD3B,EAEEjB,WAAW,KAAK,CAAhB,IAAqBiB,kBAAkB,GAAGlB,eAAe,CAACI,MAF5D,EAGEc,kBAAkB,EAHpB,EAIE;AACA;AACA,cAAIF,SAAS,CAAC,CAAD,CAAT,KAAiBhB,eAAe,CAACkB,kBAAD,CAAf,CAAoC,CAApC,CAArB,EAA6D;AAC3DD,YAAAA,YAAY,GAAG,IAAf;AACD;AACF;;AACD,YAAI,CAACA,YAAL,EAAmB;AACjBjB,UAAAA,eAAe,CAACO,IAAhB,CAAqBS,SAArB;AACD;;AACDf,QAAAA,WAAW;AACZ;AACF;AACF;;AACD,SAAOD,eAAP;AACD,CAxDD;;AA0DA,eAAeR,MAAf","sourcesContent":["import jsonData from \"../data/data.json\";\n\n//Step 2: Search Utility\nconst search = (searhInput, querySummary) => {\n  const input = searhInput.toLowerCase();\n  const maxBookSearchLimit = 3;\n\n  var bookId = \"\"; // String of bookIds separated ,\n  var noOfBooks = []; // Array of bookIds related to more than one query\n  var masterBookArray = []; // Array of Book details\n  var bookCounter = 0;\n\n  //Iterating through the Query List till maxBookSearchLimit\n  for (\n    var x = 0;\n    x < jsonData.queries.length &&\n    (bookCounter === 0 || masterBookArray.length < maxBookSearchLimit);\n    x++\n  ) {\n    if (jsonData.queries[x].includes(input)) {\n      bookId = querySummary[x];\n      if (bookId.length > 1) {\n        noOfBooks = bookId.split(\",\");\n      } else {\n        noOfBooks.push(bookId);\n      }\n\n      //Iterate the no.of books and retrieve corresponding book details\n      while (\n        (bookCounter === 0 || masterBookArray.length < maxBookSearchLimit) &&\n        bookCounter < noOfBooks.length\n      ) {\n        var bookTitle = jsonData.titles[noOfBooks[bookCounter]];\n        var bookSummary = jsonData.summaries[noOfBooks[bookCounter]].summary;\n        var bookAuthor = jsonData.authors[noOfBooks[bookCounter]].author;\n\n        //Single Book details\n        var bookArray = [bookTitle, bookSummary, bookAuthor];\n        var skipBookflag = false; // To skip the duplicate book\n\n        //Iterate through list of master book array for unique title\n        for (\n          var uniqueTitleCounter = 0;\n          bookCounter !== 0 && uniqueTitleCounter < masterBookArray.length;\n          uniqueTitleCounter++\n        ) {\n          //Check if current book title is present in the master book array\n          if (bookArray[0] === masterBookArray[uniqueTitleCounter][0]) {\n            skipBookflag = true;\n          }\n        }\n        if (!skipBookflag) {\n          masterBookArray.push(bookArray);\n        }\n        bookCounter++;\n      }\n    }\n  }\n  return masterBookArray;\n};\n\nexport default search;\n"]},"metadata":{},"sourceType":"module"}